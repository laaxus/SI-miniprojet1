<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projet LINFO1252: Projet 3 EPL 2020 - Groupe E5</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Projet LINFO1252
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Projet 3 EPL 2020 - Groupe E5 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/UCLouvain_%C3%89cole_polytechnique_de_Louvain.svg/568px-UCLouvain_%C3%89cole_polytechnique_de_Louvain.svg.png" alt="UCLouvain" class="inline"/></p>
<p>Voici l'implémentation de la solution du groupe E5 pour le projet 3 de l'année 2020: un programme pour factoriser rapidement des nombres en facteurs premiers. Le code source est disponible sur <a href="https://forge.uclouvain.be/bploumhans/lepl1503-2020-groupe-E5">Gitlab</a>. La documentation est régulièrement uploadée sur <a href="https://technici4n.github.io/lepl1503/index.html">Github Pages</a>.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Structure du programme</h1>
<p>Le programme est réparti en plusieurs threads:</p><ul>
<li>Un thread de lecture du fichier d'entrée,</li>
<li>N threads de factorisation des nombres,</li>
<li>Un thread d'écriture du fichier de sortie.</li>
</ul>
<p>Ces threads communiquent entre eux à l'aide d'une queue multithreadée bornée, c'est-à-dire que si un producteur essaye d'insérer dans une queue pleine, il va bloquer jusqu'à ce qu'une place se libère dans la queue. Plus précisément, le thread de lecture communique avec les threads de factorisation, qui eux-mêmes communiquent avec le thread d'écriture.</p>
<p>Nous proposons deux algorithmes de factorisation, le choix de l'algorithme se faisant via les options en ligne de commande:</p><ul>
<li>Un rapide basé sur la recherche de facteur rho de Pollard ainsi que le test de primalité de Rabin-Miller,</li>
<li>Un lent basé sur la méthode des divisions successives.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Options en ligne de commande</h1>
<div class="fragment"><div class="line">Usage: fact [-N NUMBER_OF_THREADS] [other options] INPUT_FILE OUTPUT_FILE</div>
<div class="line"> </div>
<div class="line"> -N NUMBER_OF_THREADS  Specify how many threads the program should use.</div>
<div class="line">                       The argument should be a positive integer.</div>
<div class="line">                       By default, the program will use all available</div>
<div class="line">                       cores on the machine.</div>
<div class="line"> -f  Use the fast algorithm.</div>
<div class="line"> -s  Use the slow algorithm. This is enabled by default.</div>
<div class="line"> INPUT_FILE  A file containing arbitrarily-long positive integers to</div>
<div class="line">             be processed by the program.</div>
<div class="line"> OUTPUT_FILE  The output file. For every integer in INPUT_FILE, a line</div>
<div class="line">              will be written in OUTPUT_FILE. This line will contain,</div>
<div class="line">              space-separated:</div>
<div class="line">              - the integer that was factored,</div>
<div class="line">              - its prime factors, in increasing order, excluding</div>
<div class="line">                the number itself.</div>
<div class="line">              The ordering of the lines in the output may not match</div>
<div class="line">              the ordering of the numbers in the input.</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Compilation</h1>
<p>Nous proposons les règles <code>fact</code>, <code>test</code> ainsi que <code>clean</code> afin de compiler, tester et nettoyer les artéfacts de compilation respectivement. Nous proposons aussi la règle <code>debug</code> permettant de créer un build sans optimisations et avec l'option <code>-g</code>. Afin de pouvoir compiler, il est nécessaire d'avoir le compilateur GCC ainsi que les libraires pthread, CUnit et GMP. Il est aussi nécessaire que le système supporte l'interface POSIX <code>getopt</code>.</p>
<p>La documentation peut être générée à l'aide de <code>make doc</code> pour peu que Doxygen soit installé.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Structure du code</h1>
<p>Les fichiers source suivants se trouvent dans le dossier <code>c</code>:</p><ul>
<li><code>alloc.c</code> et <code>alloc.h</code> contiennent une fonction d'allocation qui arrête le programme si l'allocation échoue.</li>
<li><code>factorize.c</code> et <code>factorize.h</code> contiennent les deux algorithmes de factorisation implémentés.</li>
<li><code>main.c</code> contient la fonction principale responsable de la lecture des arguments ainsi que de l'exécution des différents threads.</li>
<li><code>queue.c</code> et <code>queue.h</code> contiennent l'implémentation de notre queue bornée.</li>
<li><code>threads.c</code> et <code>threads.h</code> contiennent les différents threads de notre programme ainsi que l'infrastructure nécessaire à leur communication. Dans le dossier <code>input</code>, nous retrouvons les divers fichiers d'entrée que nous avons utilisés pour nos tests de performances.</li>
</ul>
<p>Nous disposons en plus d'une infrastructure de tests:</p><ul>
<li><code>c/test.c</code> contient des tests unitaires implémentés à l'aide de CUnit.</li>
<li><code>tests/test.sh</code> est un script bash permettant de tester notre programme sur des fichiers entiers.</li>
</ul>
<p>Un exemple d'entrée et de sortie est donné dans les fichiers <code>exemple.in</code> et <code>exemple.out</code>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
